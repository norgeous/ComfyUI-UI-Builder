{
  "name": "Basic SDXL",
  "version": "v0.0.0",
  "emoji": "ðŸ–¼ï¸",
  "description": "Basic SDXL with width / height controls",
  "tags": ["SDXL", "T2I"],
  "formConfig": [
    {
      "group": "Generation params",
      "id": "image",
      "label": "Image",
      "info": "EXPERIMENTAL: Images are saved to the ComfyUI/input directory",
      "type": "fileupload",
      "defaultValue": "",
      "colSpan": 2
    },
    {
      "group": "Generation params",
      "id": "ckpt",
      "label": "Checkpoint",
      "info": "Choose a SDXL checkpoint",
      "type": "selectckpt",
      "colSpan": 2
    },
    {
      "group": "Generation params",
      "id": "positivePrompt",
      "label": "Positive Prompt",
      "type": "textarea",
      "defaultValue": "",
      "colSpan": 2
    },
    {
      "group": "Generation params",
      "id": "negativePrompt",
      "label": "Negative Prompt",
      "type": "textarea",
      "defaultValue": "watermark, text",
      "colSpan": 2
    },
    {
      "group": "Generation params",
      "id": "quality",
      "label": "Quality",
      "type": "range",
      "defaultValueIndex": 3,
      "options": [
        { "label": "Speed", "quality": 0.25 },
        { "quality": 0.5 },
        { "quality": 0.75 },
        { "label": "Accuracy", "quality": 1 }
      ]
    },
    {
      "group": "Generation params",
      "id": "batchSize",
      "label": "Results per generation",
      "type": "range",
      "defaultValueIndex": 0,
      "options": [
        { "label": "1", "batchSize": 1 },
        { "label": "2", "batchSize": 2 },
        { "label": "3", "batchSize": 3 },
        { "label": "4", "batchSize": 4 },
        { "label": "5", "batchSize": 5 },
        { "label": "6", "batchSize": 6 },
        { "label": "7", "batchSize": 7 },
        { "label": "8", "batchSize": 8 },
        { "label": "9", "batchSize": 9 }
      ]
    },
    {
      "group": "Generation params",
      "id": "size",
      "label": "Size",
      "type": "select",
      "defaultValueIndex": 0,
      "options": [
        {
          "label": "1:1 Square",
          "size": "1:1 Square",
          "width": 1024,
          "height": 1024
        },
        {
          "label": "16:9 Landscape",
          "size": "16:9 Landscape",
          "width": 1344,
          "height": 768
        },
        {
          "label": "16:9 Portrait",
          "size": "16:9 Portrait",
          "width": 768,
          "height": 1344
        }
      ]
    },
    {
      "group": "Generation params",
      "id": "isLcm",
      "info": "Faster generation with less steps, but sacrifices quality",
      "type": "checkbox",
      "defaultValueIndex": 0,
      "options": [
        {
          "label": "LCM off",
          "value": {
            "isLcm": false,
            "baseSteps": 14,
            "stepMultiplier": 14,
            "cfg": 6.5,
            "samplerName": "dpmpp_2m",
            "scheduler": "exponential"
          }
        },
        {
          "label": "LCM on",
          "value": {
            "isLcm": true,
            "baseSteps": 6,
            "stepMultiplier": 4,
            "cfg": 2.5,
            "samplerName": "lcm",
            "scheduler": "normal"
          }
        }
      ]
    },
    {
      "group": "Generation params",
      "id": "seed",
      "label": "Seed",
      "type": "number",
      "defaultValue": 1337,
      "onChange": { "enableSeedRandomisation": false }
    },
    {
      "group": "Generation params",
      "id": "enableSeedRandomisation",
      "type": "checkbox",
      "defaultValueIndex": 0,
      "options": [
        {
          "label": "Fixed seed",
          "value": { "enableSeedRandomisation": false }
        },
        { "label": "Random seed", "value": { "enableSeedRandomisation": true } }
      ]
    }
  ],
  "adapterConfig": [
    {
      "destination": "CheckpointLoaderSimple > ckpt_name",
      "actions": "get:ckpt"
    },
    {
      "destination": "Positive Prompt > text",
      "actions": "get:positivePrompt"
    },
    {
      "destination": "Positive Prompt > width",
      "actions": "get:width"
    },
    {
      "destination": "Positive Prompt > height",
      "actions": "get:height"
    },
    {
      "destination": "Negative Prompt > text",
      "actions": "get:negativePrompt"
    },
    {
      "destination": "Negative Prompt > width",
      "actions": "get:width"
    },
    {
      "destination": "Negative Prompt > height",
      "actions": "get:height"
    },
    {
      "destination": "EmptyLatentImage > batch_size",
      "actions": "get:batchSize"
    },
    {
      "destination": "EmptyLatentImage > width",
      "actions": "get:width"
    },
    {
      "destination": "EmptyLatentImage > height",
      "actions": "get:height"
    },
    {
      "destination": "KSampler > seed",
      "actions": "get:seed"
    },
    {
      "destination": "KSampler > steps",
      "actions": [
        "get:quality",
        "multiply:stepMultiplier",
        "round",
        "add:baseSteps"
      ]
    },
    {
      "destination": "KSampler > cfg",
      "actions": "get:cfg"
    },
    {
      "destination": "KSampler > sampler_name",
      "actions": "get:samplerName"
    },
    {
      "destination": "KSampler > scheduler",
      "actions": "get:scheduler"
    },
    {
      "destination": "LoraLoader > mode",
      "actions": ["num:4", ["if:isLcm", "num:0"]]
    },
    {
      "destination": "LoraLoader > lora_name",
      "actions": ["raw:lcm-lora-sdxl", "findInLoraNames"]
    },
    {
      "destination": "ModelSamplingDiscrete > mode",
      "actions": ["num:4", ["if:isLcm", "num:0"]]
    },
    {
      "destination": "RescaleCFG > mode",
      "actions": ["num:4", ["if:isLcm", "num:0"]]
    }
  ]
}
