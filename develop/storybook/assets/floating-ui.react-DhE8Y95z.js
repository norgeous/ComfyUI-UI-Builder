import{r as m,$ as ae}from"./index-uCp2LrAq.js";import{r as ue}from"./index-BOkhicXD.js";function z(t){return qt(t)?(t.nodeName||"").toLowerCase():"#document"}function I(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function U(t){var e;return(e=(qt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qt(t){return t instanceof Node||t instanceof I(t).Node}function M(t){return t instanceof Element||t instanceof I(t).Element}function V(t){return t instanceof HTMLElement||t instanceof I(t).HTMLElement}function vt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof I(t).ShadowRoot}function ct(t){const{overflow:e,overflowX:o,overflowY:n,display:r}=W(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(r)}function de(t){return["table","td","th"].includes(z(t))}function Pt(t){const e=Ct(),o=W(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function me(t){let e=K(t);for(;V(e)&&!X(e);){if(Pt(e))return e;e=K(e)}return null}function Ct(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function X(t){return["html","body","#document"].includes(z(t))}function W(t){return I(t).getComputedStyle(t)}function gt(t){return M(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function K(t){if(z(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vt(t)&&t.host||U(t);return vt(e)?e.host:e}function Ut(t){const e=K(t);return X(e)?t.ownerDocument?t.ownerDocument.body:t.body:V(e)&&ct(e)?e:Ut(e)}function Q(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const r=Ut(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=I(r);return i?e.concat(s,s.visualViewport||[],ct(r)?r:[],s.frameElement&&o?Q(s.frameElement):[]):e.concat(r,Q(r,[],o))}function Lt(t,e){if(!t||!e)return!1;const o=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(o&&vt(o)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function ge(t){return"nativeEvent"in t}function pe(t){return t.matches("html,body")}function $t(t){return(t==null?void 0:t.ownerDocument)||document}function ht(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const o=t;return o.target!=null&&e.contains(o.target)}function rt(t){return"composedPath"in t?t.composedPath()[0]:t.target}const he=["top","right","bottom","left"],Mt=["start","end"],_t=he.reduce((t,e)=>t.concat(e,e+"-"+Mt[0],e+"-"+Mt[1]),[]),st=Math.min,Z=Math.max,ft=Math.round,q=t=>({x:t,y:t}),we={left:"right",right:"left",bottom:"top",top:"bottom"},xe={start:"end",end:"start"};function Rt(t,e,o){return Z(t,st(e,o))}function tt(t,e){return typeof t=="function"?t(e):t}function j(t){return t.split("-")[0]}function H(t){return t.split("-")[1]}function Gt(t){return t==="x"?"y":"x"}function Ot(t){return t==="y"?"height":"width"}function pt(t){return["top","bottom"].includes(j(t))?"y":"x"}function St(t){return Gt(pt(t))}function Qt(t,e,o){o===void 0&&(o=!1);const n=H(t),r=St(t),i=Ot(r);let s=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=ut(s)),[s,ut(s)]}function ye(t){const e=ut(t);return[at(t),e,at(e)]}function at(t){return t.replace(/start|end/g,e=>xe[e])}function ve(t,e,o){const n=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return o?e?r:n:e?n:r;case"left":case"right":return e?i:s;default:return[]}}function Re(t,e,o,n){const r=H(t);let i=ve(j(t),o==="start",n);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(at)))),i}function ut(t){return t.replace(/left|right|bottom|top/g,e=>we[e])}function be(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zt(t){return typeof t!="number"?be(t):{top:t,right:t,bottom:t,left:t}}function dt(t){const{x:e,y:o,width:n,height:r}=t;return{width:n,height:r,top:o,left:e,right:e+n,bottom:o+r,x:e,y:o}}function Ft(t,e,o){let{reference:n,floating:r}=t;const i=pt(e),s=St(e),c=Ot(s),l=j(e),f=i==="y",u=n.x+n.width/2-r.width/2,d=n.y+n.height/2-r.height/2,g=n[c]/2-r[c]/2;let a;switch(l){case"top":a={x:u,y:n.y-r.height};break;case"bottom":a={x:u,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:d};break;case"left":a={x:n.x-r.width,y:d};break;default:a={x:n.x,y:n.y}}switch(H(e)){case"start":a[s]-=g*(o&&f?-1:1);break;case"end":a[s]+=g*(o&&f?-1:1);break}return a}const Ee=async(t,e,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:s}=o,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=Ft(f,n,l),g=n,a={},p=0;for(let w=0;w<c.length;w++){const{name:v,fn:y}=c[w],{x:P,y:h,data:C,reset:b}=await y({x:u,y:d,initialPlacement:n,placement:g,strategy:r,middlewareData:a,rects:f,platform:s,elements:{reference:t,floating:e}});u=P??u,d=h??d,a={...a,[v]:{...a[v],...C}},b&&p<=50&&(p++,typeof b=="object"&&(b.placement&&(g=b.placement),b.rects&&(f=b.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):b.rects),{x:u,y:d}=Ft(f,g,l)),w=-1)}return{x:u,y:d,placement:g,strategy:r,middlewareData:a}};async function At(t,e){var o;e===void 0&&(e={});const{x:n,y:r,platform:i,rects:s,elements:c,strategy:l}=t,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:g=!1,padding:a=0}=tt(e,t),p=Zt(a),v=c[g?d==="floating"?"reference":"floating":d],y=dt(await i.getClippingRect({element:(o=await(i.isElement==null?void 0:i.isElement(v)))==null||o?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:u,strategy:l})),P=d==="floating"?{x:n,y:r,width:s.floating.width,height:s.floating.height}:s.reference,h=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),C=await(i.isElement==null?void 0:i.isElement(h))?await(i.getScale==null?void 0:i.getScale(h))||{x:1,y:1}:{x:1,y:1},b=dt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:h,strategy:l}):P);return{top:(y.top-b.top+p.top)/C.y,bottom:(b.bottom-y.bottom+p.bottom)/C.y,left:(y.left-b.left+p.left)/C.x,right:(b.right-y.right+p.right)/C.x}}const Pe=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:r,rects:i,platform:s,elements:c,middlewareData:l}=e,{element:f,padding:u=0}=tt(t,e)||{};if(f==null)return{};const d=Zt(u),g={x:o,y:n},a=St(r),p=Ot(a),w=await s.getDimensions(f),v=a==="y",y=v?"top":"left",P=v?"bottom":"right",h=v?"clientHeight":"clientWidth",C=i.reference[p]+i.reference[a]-g[a]-i.floating[p],b=g[a]-i.reference[a],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let L=k?k[h]:0;(!L||!await(s.isElement==null?void 0:s.isElement(k)))&&(L=c.floating[h]||i.floating[p]);const D=C/2-b/2,_=L/2-w[p]/2-1,S=st(d[y],_),$=st(d[P],_),T=S,F=L-w[p]-$,x=L/2-w[p]/2+D,E=Rt(T,x,F),O=!l.arrow&&H(r)!=null&&x!==E&&i.reference[p]/2-(x<T?S:$)-w[p]/2<0,R=O?x<T?x-T:x-F:0;return{[a]:g[a]+R,data:{[a]:E,centerOffset:x-E-R,...O&&{alignmentOffset:R}},reset:O}}});function Ce(t,e,o){return(t?[...o.filter(r=>H(r)===t),...o.filter(r=>H(r)!==t)]:o.filter(r=>j(r)===r)).filter(r=>t?H(r)===t||(e?at(r)!==r:!1):!0)}const Oe=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var o,n,r;const{rects:i,middlewareData:s,placement:c,platform:l,elements:f}=e,{crossAxis:u=!1,alignment:d,allowedPlacements:g=_t,autoAlignment:a=!0,...p}=tt(t,e),w=d!==void 0||g===_t?Ce(d||null,a,g):g,v=await At(e,p),y=((o=s.autoPlacement)==null?void 0:o.index)||0,P=w[y];if(P==null)return{};const h=Qt(P,i,await(l.isRTL==null?void 0:l.isRTL(f.floating)));if(c!==P)return{reset:{placement:w[0]}};const C=[v[j(P)],v[h[0]],v[h[1]]],b=[...((n=s.autoPlacement)==null?void 0:n.overflows)||[],{placement:P,overflows:C}],k=w[y+1];if(k)return{data:{index:y+1,overflows:b},reset:{placement:k}};const L=b.map(S=>{const $=H(S.placement);return[S.placement,$&&u?S.overflows.slice(0,2).reduce((T,F)=>T+F,0):S.overflows[0],S.overflows]}).sort((S,$)=>S[1]-$[1]),_=((r=L.filter(S=>S[2].slice(0,H(S[0])?2:3).every($=>$<=0))[0])==null?void 0:r[0])||L[0][0];return _!==c?{data:{index:y+1,overflows:b},reset:{placement:_}}:{}}}},Se=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:r,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:f}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:w=!0,...v}=tt(t,e);if((o=i.arrow)!=null&&o.alignmentOffset)return{};const y=j(r),P=j(c)===c,h=await(l.isRTL==null?void 0:l.isRTL(f.floating)),C=g||(P||!w?[ut(c)]:ye(c));!g&&p!=="none"&&C.push(...Re(c,w,p,h));const b=[c,...C],k=await At(e,v),L=[];let D=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&L.push(k[y]),d){const T=Qt(r,s,h);L.push(k[T[0]],k[T[1]])}if(D=[...D,{placement:r,overflows:L}],!L.every(T=>T<=0)){var _,S;const T=(((_=i.flip)==null?void 0:_.index)||0)+1,F=b[T];if(F)return{data:{index:T,overflows:D},reset:{placement:F}};let x=(S=D.filter(E=>E.overflows[0]<=0).sort((E,O)=>E.overflows[1]-O.overflows[1])[0])==null?void 0:S.placement;if(!x)switch(a){case"bestFit":{var $;const E=($=D.map(O=>[O.placement,O.overflows.filter(R=>R>0).reduce((R,A)=>R+A,0)]).sort((O,R)=>O[1]-R[1])[0])==null?void 0:$[0];E&&(x=E);break}case"initialPlacement":x=c;break}if(r!==x)return{reset:{placement:x}}}return{}}}};async function Ae(t,e){const{placement:o,platform:n,elements:r}=t,i=await(n.isRTL==null?void 0:n.isRTL(r.floating)),s=j(o),c=H(o),l=pt(o)==="y",f=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,d=tt(e,t);let{mainAxis:g,crossAxis:a,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return c&&typeof p=="number"&&(a=c==="end"?p*-1:p),l?{x:a*u,y:g*f}:{x:g*f,y:a*u}}const De=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:r,y:i,placement:s,middlewareData:c}=e,l=await Ae(e,t);return s===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:s}}}}},Te=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:r}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:v=>{let{x:y,y:P}=v;return{x:y,y:P}}},...l}=tt(t,e),f={x:o,y:n},u=await At(e,l),d=pt(j(r)),g=Gt(d);let a=f[g],p=f[d];if(i){const v=g==="y"?"top":"left",y=g==="y"?"bottom":"right",P=a+u[v],h=a-u[y];a=Rt(P,a,h)}if(s){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",P=p+u[v],h=p-u[y];p=Rt(P,p,h)}const w=c.fn({...e,[g]:a,[d]:p});return{...w,data:{x:w.x-o,y:w.y-n}}}}};function Jt(t){const e=W(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=V(t),i=r?t.offsetWidth:o,s=r?t.offsetHeight:n,c=ft(o)!==i||ft(n)!==s;return c&&(o=i,n=s),{width:o,height:n,$:c}}function zt(t){return M(t)?t:t.contextElement}function J(t){const e=zt(t);if(!V(e))return q(1);const o=e.getBoundingClientRect(),{width:n,height:r,$:i}=Jt(e);let s=(i?ft(o.width):o.width)/n,c=(i?ft(o.height):o.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const ke=q(0);function te(t){const e=I(t);return!Ct()||!e.visualViewport?ke:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Le(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==I(t)?!1:e}function it(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const r=t.getBoundingClientRect(),i=zt(t);let s=q(1);e&&(n?M(n)&&(s=J(n)):s=J(t));const c=Le(i,o,n)?te(i):q(0);let l=(r.left+c.x)/s.x,f=(r.top+c.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(i){const g=I(i),a=n&&M(n)?I(n):n;let p=g,w=p.frameElement;for(;w&&n&&a!==p;){const v=J(w),y=w.getBoundingClientRect(),P=W(w),h=y.left+(w.clientLeft+parseFloat(P.paddingLeft))*v.x,C=y.top+(w.clientTop+parseFloat(P.paddingTop))*v.y;l*=v.x,f*=v.y,u*=v.x,d*=v.y,l+=h,f+=C,p=I(w),w=p.frameElement}}return dt({width:u,height:d,x:l,y:f})}const $e=[":popover-open",":modal"];function Dt(t){return $e.some(e=>{try{return t.matches(e)}catch{return!1}})}function Me(t){let{elements:e,rect:o,offsetParent:n,strategy:r}=t;const i=r==="fixed",s=U(n),c=e?Dt(e.floating):!1;if(n===s||c&&i)return o;let l={scrollLeft:0,scrollTop:0},f=q(1);const u=q(0),d=V(n);if((d||!d&&!i)&&((z(n)!=="body"||ct(s))&&(l=gt(n)),V(n))){const g=it(n);f=J(n),u.x=g.x+n.clientLeft,u.y=g.y+n.clientTop}return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-l.scrollLeft*f.x+u.x,y:o.y*f.y-l.scrollTop*f.y+u.y}}function _e(t){return Array.from(t.getClientRects())}function ee(t){return it(U(t)).left+gt(t).scrollLeft}function Fe(t){const e=U(t),o=gt(t),n=t.ownerDocument.body,r=Z(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Z(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-o.scrollLeft+ee(t);const c=-o.scrollTop;return W(n).direction==="rtl"&&(s+=Z(e.clientWidth,n.clientWidth)-r),{width:r,height:i,x:s,y:c}}function Ie(t,e){const o=I(t),n=U(t),r=o.visualViewport;let i=n.clientWidth,s=n.clientHeight,c=0,l=0;if(r){i=r.width,s=r.height;const f=Ct();(!f||f&&e==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:c,y:l}}function Be(t,e){const o=it(t,!0,e==="fixed"),n=o.top+t.clientTop,r=o.left+t.clientLeft,i=V(t)?J(t):q(1),s=t.clientWidth*i.x,c=t.clientHeight*i.y,l=r*i.x,f=n*i.y;return{width:s,height:c,x:l,y:f}}function It(t,e,o){let n;if(e==="viewport")n=Ie(t,o);else if(e==="document")n=Fe(U(t));else if(M(e))n=Be(e,o);else{const r=te(t);n={...e,x:e.x-r.x,y:e.y-r.y}}return dt(n)}function ne(t,e){const o=K(t);return o===e||!M(o)||X(o)?!1:W(o).position==="fixed"||ne(o,e)}function We(t,e){const o=e.get(t);if(o)return o;let n=Q(t,[],!1).filter(c=>M(c)&&z(c)!=="body"),r=null;const i=W(t).position==="fixed";let s=i?K(t):t;for(;M(s)&&!X(s);){const c=W(s),l=Pt(s);!l&&c.position==="fixed"&&(r=null),(i?!l&&!r:!l&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ct(s)&&!l&&ne(t,s))?n=n.filter(u=>u!==s):r=c,s=K(s)}return e.set(t,n),n}function Ne(t){let{element:e,boundary:o,rootBoundary:n,strategy:r}=t;const s=[...o==="clippingAncestors"?Dt(e)?[]:We(e,this._c):[].concat(o),n],c=s[0],l=s.reduce((f,u)=>{const d=It(e,u,r);return f.top=Z(d.top,f.top),f.right=st(d.right,f.right),f.bottom=st(d.bottom,f.bottom),f.left=Z(d.left,f.left),f},It(e,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ve(t){const{width:e,height:o}=Jt(t);return{width:e,height:o}}function He(t,e,o){const n=V(e),r=U(e),i=o==="fixed",s=it(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const l=q(0);if(n||!n&&!i)if((z(e)!=="body"||ct(r))&&(c=gt(e)),n){const d=it(e,!0,i,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else r&&(l.x=ee(r));const f=s.left+c.scrollLeft-l.x,u=s.top+c.scrollTop-l.y;return{x:f,y:u,width:s.width,height:s.height}}function wt(t){return W(t).position==="static"}function Bt(t,e){return!V(t)||W(t).position==="fixed"?null:e?e(t):t.offsetParent}function oe(t,e){const o=I(t);if(Dt(t))return o;if(!V(t)){let r=K(t);for(;r&&!X(r);){if(M(r)&&!wt(r))return r;r=K(r)}return o}let n=Bt(t,e);for(;n&&de(n)&&wt(n);)n=Bt(n,e);return n&&X(n)&&wt(n)&&!Pt(n)?o:n||me(t)||o}const Ke=async function(t){const e=this.getOffsetParent||oe,o=this.getDimensions,n=await o(t.floating);return{reference:He(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function je(t){return W(t).direction==="rtl"}const re={convertOffsetParentRelativeRectToViewportRelativeRect:Me,getDocumentElement:U,getClippingRect:Ne,getOffsetParent:oe,getElementRects:Ke,getClientRects:_e,getDimensions:Ve,getScale:J,isElement:M,isRTL:je},Ye=De,Xe=Oe,qe=Te,Ue=Se,Wt=Pe,Ge=(t,e,o)=>{const n=new Map,r={platform:re,...o},i={...r.platform,_c:n};return Ee(t,e,{...r,platform:i})};var lt=typeof document<"u"?m.useLayoutEffect:m.useEffect;function mt(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let o,n,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(o=t.length,o!==e.length)return!1;for(n=o;n--!==0;)if(!mt(t[n],e[n]))return!1;return!0}if(r=Object.keys(t),o=r.length,o!==Object.keys(e).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=o;n--!==0;){const i=r[n];if(!(i==="_owner"&&t.$$typeof)&&!mt(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function se(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Nt(t,e){const o=se(t);return Math.round(e*o)/o}function Vt(t){const e=m.useRef(t);return lt(()=>{e.current=t}),e}function Qe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:f}=t,[u,d]=m.useState({x:0,y:0,strategy:o,placement:e,middlewareData:{},isPositioned:!1}),[g,a]=m.useState(n);mt(g,n)||a(n);const[p,w]=m.useState(null),[v,y]=m.useState(null),P=m.useCallback(R=>{R!==k.current&&(k.current=R,w(R))},[]),h=m.useCallback(R=>{R!==L.current&&(L.current=R,y(R))},[]),C=i||p,b=s||v,k=m.useRef(null),L=m.useRef(null),D=m.useRef(u),_=l!=null,S=Vt(l),$=Vt(r),T=m.useCallback(()=>{if(!k.current||!L.current)return;const R={placement:e,strategy:o,middleware:g};$.current&&(R.platform=$.current),Ge(k.current,L.current,R).then(A=>{const N={...A,isPositioned:!0};F.current&&!mt(D.current,N)&&(D.current=N,ue.flushSync(()=>{d(N)}))})},[g,e,o,$]);lt(()=>{f===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[f]);const F=m.useRef(!1);lt(()=>(F.current=!0,()=>{F.current=!1}),[]),lt(()=>{if(C&&(k.current=C),b&&(L.current=b),C&&b){if(S.current)return S.current(C,b,T);T()}},[C,b,T,S,_]);const x=m.useMemo(()=>({reference:k,floating:L,setReference:P,setFloating:h}),[P,h]),E=m.useMemo(()=>({reference:C,floating:b}),[C,b]),O=m.useMemo(()=>{const R={position:o,left:0,top:0};if(!E.floating)return R;const A=Nt(E.floating,u.x),N=Nt(E.floating,u.y);return c?{...R,transform:"translate("+A+"px, "+N+"px)",...se(E.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:A,top:N}},[o,c,E.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:T,refs:x,elements:E,floatingStyles:O}),[u,T,x,E,O])}const Ze=t=>{function e(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:t,fn(o){const{element:n,padding:r}=typeof t=="function"?t(o):t;return n&&e(n)?n.current!=null?Wt({element:n.current,padding:r}).fn(o):{}:n?Wt({element:n,padding:r}).fn(o):{}}}},pn=(t,e)=>({...Ye(t),options:[t,e]}),hn=(t,e)=>({...qe(t),options:[t,e]}),wn=(t,e)=>({...Ue(t),options:[t,e]}),xn=(t,e)=>({...Xe(t),options:[t,e]}),yn=(t,e)=>({...Ze(t),options:[t,e]}),ie={...ae},Je=ie.useInsertionEffect,ze=Je||(t=>t());function G(t){const e=m.useRef(()=>{});return ze(()=>{e.current=t}),m.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return e.current==null?void 0:e.current(...n)},[])}var bt=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Et(){return Et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Et.apply(this,arguments)}let Ht=!1,tn=0;const Kt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tn++;function en(){const[t,e]=m.useState(()=>Ht?Kt():void 0);return bt(()=>{t==null&&e(Kt())},[]),m.useEffect(()=>{Ht=!0},[]),t}const nn=ie.useId,ce=nn||en,vn=m.forwardRef(function(e,o){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i}},width:s=14,height:c=7,tipRadius:l=0,strokeWidth:f=0,staticOffset:u,stroke:d,d:g,style:{transform:a,...p}={},...w}=e,v=ce();if(!r)return null;const y=f*2,P=y/2,h=s/2*(l/-8+1),C=c/2*l/4,[b,k]=n.split("-"),L=re.isRTL(r),D=!!g,_=b==="top"||b==="bottom",S=u&&k==="end"?"bottom":"top";let $=u&&k==="end"?"right":"left";u&&L&&($=k==="end"?"left":"right");const T=(i==null?void 0:i.x)!=null?u||i.x:"",F=(i==null?void 0:i.y)!=null?u||i.y:"",x=g||"M0,0"+(" H"+s)+(" L"+(s-h)+","+(c-C))+(" Q"+s/2+","+c+" "+h+","+(c-C))+" Z",E={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[b];return m.createElement("svg",Et({},w,{"aria-hidden":!0,ref:o,width:D?s:s+y,height:s,viewBox:"0 0 "+s+" "+(c>s?c:s),style:{position:"absolute",pointerEvents:"none",[$]:T,[S]:F,[b]:_||D?"100%":"calc(100% - "+y/2+"px)",transform:""+E+(a??""),...p}}),y>0&&m.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:d,strokeWidth:y+(g?0:1),d:x}),m.createElement("path",{stroke:y&&!g?w.fill:"none",d:x}),m.createElement("clipPath",{id:v},m.createElement("rect",{x:-P,y:P*(D?-1:1),width:s+y,height:s})))});function on(){const t=new Map;return{emit(e,o){var n;(n=t.get(e))==null||n.forEach(r=>r(o))},on(e,o){t.set(e,[...t.get(e)||[],o])},off(e,o){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(r=>r!==o))||[])}}}const rn=m.createContext(null),sn=m.createContext(null),cn=()=>{var t;return((t=m.useContext(rn))==null?void 0:t.id)||null},le=()=>m.useContext(sn);function ln(t){return"data-floating-ui-"+t}function xt(t,e){let o=t.filter(r=>{var i;return r.parentId===e&&((i=r.context)==null?void 0:i.open)}),n=o;for(;n.length;)n=t.filter(r=>{var i;return(i=n)==null?void 0:i.some(s=>{var c;return r.parentId===s.id&&((c=r.context)==null?void 0:c.open)})}),o=o.concat(n);return o}const fn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},an={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},jt=t=>{var e,o;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(o=t==null?void 0:t.outsidePress)!=null?o:!0}};function Rn(t,e){e===void 0&&(e={});const{open:o,onOpenChange:n,elements:{reference:r,domReference:i,floating:s},dataRef:c}=t,{enabled:l=!0,escapeKey:f=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:g=!1,referencePressEvent:a="pointerdown",ancestorScroll:p=!1,bubbles:w,capture:v}=e,y=le(),P=G(typeof u=="function"?u:()=>!1),h=typeof u=="function"?P:u,C=m.useRef(!1),b=m.useRef(!1),{escapeKey:k,outsidePress:L}=jt(w),{escapeKey:D,outsidePress:_}=jt(v),S=G(x=>{var E;if(!o||!l||!f||x.key!=="Escape")return;const O=(E=c.current.floatingContext)==null?void 0:E.nodeId,R=y?xt(y.nodesRef.current,O):[];if(!k&&(x.stopPropagation(),R.length>0)){let A=!0;if(R.forEach(N=>{var et;if((et=N.context)!=null&&et.open&&!N.context.dataRef.current.__escapeKeyBubbles){A=!1;return}}),!A)return}n(!1,ge(x)?x.nativeEvent:x,"escape-key")}),$=G(x=>{var E;const O=()=>{var R;S(x),(R=rt(x))==null||R.removeEventListener("keydown",O)};(E=rt(x))==null||E.addEventListener("keydown",O)}),T=G(x=>{var E;const O=C.current;C.current=!1;const R=b.current;if(b.current=!1,d==="click"&&R||O||typeof h=="function"&&!h(x))return;const A=rt(x),N="["+ln("inert")+"]",et=$t(s).querySelectorAll(N);let nt=M(A)?A:null;for(;nt&&!X(nt);){const B=K(nt);if(X(B)||!M(B))break;nt=B}if(et.length&&M(A)&&!pe(A)&&!Lt(A,s)&&Array.from(et).every(B=>!Lt(nt,B)))return;if(V(A)&&s){const B=A.clientWidth>0&&A.scrollWidth>A.clientWidth,Y=A.clientHeight>0&&A.scrollHeight>A.clientHeight;let ot=Y&&x.offsetX>A.clientWidth;if(Y&&W(A).direction==="rtl"&&(ot=x.offsetX<=A.offsetWidth-A.clientWidth),ot||B&&x.offsetY>A.clientHeight)return}const Tt=(E=c.current.floatingContext)==null?void 0:E.nodeId,fe=y&&xt(y.nodesRef.current,Tt).some(B=>{var Y;return ht(x,(Y=B.context)==null?void 0:Y.elements.floating)});if(ht(x,s)||ht(x,i)||fe)return;const kt=y?xt(y.nodesRef.current,Tt):[];if(kt.length>0){let B=!0;if(kt.forEach(Y=>{var ot;if((ot=Y.context)!=null&&ot.open&&!Y.context.dataRef.current.__outsidePressBubbles){B=!1;return}}),!B)return}n(!1,x,"outside-press")}),F=G(x=>{var E;const O=()=>{var R;T(x),(R=rt(x))==null||R.removeEventListener(d,O)};(E=rt(x))==null||E.addEventListener(d,O)});return m.useEffect(()=>{if(!o||!l)return;c.current.__escapeKeyBubbles=k,c.current.__outsidePressBubbles=L;function x(R){n(!1,R,"ancestor-scroll")}const E=$t(s);f&&E.addEventListener("keydown",D?$:S,D),h&&E.addEventListener(d,_?F:T,_);let O=[];return p&&(M(i)&&(O=Q(i)),M(s)&&(O=O.concat(Q(s))),!M(r)&&r&&r.contextElement&&(O=O.concat(Q(r.contextElement)))),O=O.filter(R=>{var A;return R!==((A=E.defaultView)==null?void 0:A.visualViewport)}),O.forEach(R=>{R.addEventListener("scroll",x,{passive:!0})}),()=>{f&&E.removeEventListener("keydown",D?$:S,D),h&&E.removeEventListener(d,_?F:T,_),O.forEach(R=>{R.removeEventListener("scroll",x)})}},[c,s,i,r,f,h,d,o,n,p,l,k,L,S,D,$,T,_,F]),m.useEffect(()=>{C.current=!1},[h,d]),m.useMemo(()=>l?{reference:{onKeyDown:S,[fn[a]]:x=>{g&&n(!1,x.nativeEvent,"reference-press")}},floating:{onKeyDown:S,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[an[d]]:()=>{C.current=!0}}}:{},[l,g,d,a,n,S])}function un(t){const{open:e=!1,onOpenChange:o,elements:n}=t,r=ce(),i=m.useRef({}),[s]=m.useState(()=>on()),c=cn()!=null,[l,f]=m.useState(n.reference),u=G((a,p,w)=>{i.current.openEvent=a?p:void 0,s.emit("openchange",{open:a,event:p,reason:w,nested:c}),o==null||o(a,p,w)}),d=m.useMemo(()=>({setPositionReference:f}),[]),g=m.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return m.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:g,events:s,floatingId:r,refs:d}),[e,u,g,s,r,d])}function bn(t){t===void 0&&(t={});const{nodeId:e}=t,o=un({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||o,r=n.elements,[i,s]=m.useState(null),[c,l]=m.useState(null),u=(r==null?void 0:r.reference)||i,d=m.useRef(null),g=le();bt(()=>{u&&(d.current=u)},[u]);const a=Qe({...t,elements:{...r,...c&&{reference:c}}}),p=m.useCallback(h=>{const C=M(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;l(C),a.refs.setReference(C)},[a.refs]),w=m.useCallback(h=>{(M(h)||h===null)&&(d.current=h,s(h)),(M(a.refs.reference.current)||a.refs.reference.current===null||h!==null&&!M(h))&&a.refs.setReference(h)},[a.refs]),v=m.useMemo(()=>({...a.refs,setReference:w,setPositionReference:p,domReference:d}),[a.refs,w,p]),y=m.useMemo(()=>({...a.elements,domReference:u}),[a.elements,u]),P=m.useMemo(()=>({...a,...n,refs:v,elements:y,nodeId:e}),[a,v,y,e,n]);return bt(()=>{n.dataRef.current.floatingContext=P;const h=g==null?void 0:g.nodesRef.current.find(C=>C.id===e);h&&(h.context=P)}),m.useMemo(()=>({...a,context:P,refs:v,elements:y}),[a,v,y,P])}const Yt="active",Xt="selected";function yt(t,e,o){const n=new Map,r=o==="item";let i=t;if(r&&t){const{[Yt]:s,[Xt]:c,...l}=t;i=l}return{...o==="floating"&&{tabIndex:-1},...i,...e.map(s=>{const c=s?s[o]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((s,c)=>(c&&Object.entries(c).forEach(l=>{let[f,u]=l;if(!(r&&[Yt,Xt].includes(f)))if(f.indexOf("on")===0){if(n.has(f)||n.set(f,[]),typeof u=="function"){var d;(d=n.get(f))==null||d.push(u),s[f]=function(){for(var g,a=arguments.length,p=new Array(a),w=0;w<a;w++)p[w]=arguments[w];return(g=n.get(f))==null?void 0:g.map(v=>v(...p)).find(v=>v!==void 0)}}}else s[f]=u}),s),{})}}function En(t){t===void 0&&(t=[]);const e=t,o=m.useCallback(i=>yt(i,t,"reference"),e),n=m.useCallback(i=>yt(i,t,"floating"),e),r=m.useCallback(i=>yt(i,t,"item"),t.map(i=>i==null?void 0:i.item));return m.useMemo(()=>({getReferenceProps:o,getFloatingProps:n,getItemProps:r}),[o,n,r])}export{vn as F,yn as a,Rn as b,En as c,xn as d,wn as f,pn as o,hn as s,bn as u};
