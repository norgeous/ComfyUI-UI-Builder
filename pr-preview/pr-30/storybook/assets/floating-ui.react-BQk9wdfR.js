import{r as g,a as at}from"./index-BwDkhjyp.js";import{r as ut}from"./index-B8XB3FuZ.js";function oe(e){return Ue(e)?(e.nodeName||"").toLowerCase():"#document"}function B(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Y(e){var t;return(t=(Ue(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ue(e){return e instanceof Node||e instanceof B(e).Node}function $(e){return e instanceof Element||e instanceof B(e).Element}function V(e){return e instanceof HTMLElement||e instanceof B(e).HTMLElement}function Ee(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof B(e).ShadowRoot}function le(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=W(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function dt(e){return["table","td","th"].includes(oe(e))}function we(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Oe(e){const t=Se(),o=W(e);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function mt(e){let t=K(e);for(;V(t)&&!q(t);){if(we(t))return null;if(Oe(t))return t;t=K(t)}return null}function Se(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function q(e){return["html","body","#document"].includes(oe(e))}function W(e){return B(e).getComputedStyle(e)}function xe(e){return $(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function K(e){if(oe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ee(e)&&e.host||Y(e);return Ee(t)?t.host:t}function Ge(e){const t=K(e);return q(t)?e.ownerDocument?e.ownerDocument.body:e.body:V(t)&&le(t)?t:Ge(t)}function z(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=Ge(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),i=B(r);return s?t.concat(i,i.visualViewport||[],le(r)?r:[],i.frameElement&&o?z(i.frameElement):[]):t.concat(r,z(r,[],o))}function _e(e,t){if(!e||!t)return!1;const o=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(o&&Ee(o)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function gt(e){return"nativeEvent"in e}function pt(e){return e.matches("html,body")}function Fe(e){return(e==null?void 0:e.ownerDocument)||document}function ve(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const o=e;return o.target!=null&&t.contains(o.target)}function ce(e){return"composedPath"in e?e.composedPath()[0]:e.target}const ht=["top","right","bottom","left"],$e=["start","end"],Ie=ht.reduce((e,t)=>e.concat(t,t+"-"+$e[0],t+"-"+$e[1]),[]),te=Math.min,Q=Math.max,ue=Math.round,fe=Math.floor,U=e=>({x:e,y:e}),wt={left:"right",right:"left",bottom:"top",top:"bottom"},xt={start:"end",end:"start"};function Pe(e,t,o){return Q(e,te(t,o))}function re(e,t){return typeof e=="function"?e(t):e}function j(e){return e.split("-")[0]}function H(e){return e.split("-")[1]}function Qe(e){return e==="x"?"y":"x"}function Ae(e){return e==="y"?"height":"width"}function ne(e){return["top","bottom"].includes(j(e))?"y":"x"}function De(e){return Qe(ne(e))}function Ze(e,t,o){o===void 0&&(o=!1);const n=H(e),r=De(e),s=Ae(r);let i=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=me(i)),[i,me(i)]}function vt(e){const t=me(e);return[de(e),t,de(t)]}function de(e){return e.replace(/start|end/g,t=>xt[t])}function yt(e,t,o){const n=["left","right"],r=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:n:t?n:r;case"left":case"right":return t?s:i;default:return[]}}function Rt(e,t,o,n){const r=H(e);let s=yt(j(e),o==="start",n);return r&&(s=s.map(i=>i+"-"+r),t&&(s=s.concat(s.map(de)))),s}function me(e){return e.replace(/left|right|bottom|top/g,t=>wt[t])}function bt(e){return{top:0,right:0,bottom:0,left:0,...e}}function Je(e){return typeof e!="number"?bt(e):{top:e,right:e,bottom:e,left:e}}function ge(e){const{x:t,y:o,width:n,height:r}=e;return{width:n,height:r,top:o,left:t,right:t+n,bottom:o+r,x:t,y:o}}function Be(e,t,o){let{reference:n,floating:r}=e;const s=ne(t),i=De(t),c=Ae(i),f=j(t),l=s==="y",u=n.x+n.width/2-r.width/2,d=n.y+n.height/2-r.height/2,p=n[c]/2-r[c]/2;let a;switch(f){case"top":a={x:u,y:n.y-r.height};break;case"bottom":a={x:u,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:d};break;case"left":a={x:n.x-r.width,y:d};break;default:a={x:n.x,y:n.y}}switch(H(t)){case"start":a[i]-=p*(o&&l?-1:1);break;case"end":a[i]+=p*(o&&l?-1:1);break}return a}const Et=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:i}=o,c=s.filter(Boolean),f=await(i.isRTL==null?void 0:i.isRTL(t));let l=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=Be(l,n,f),p=n,a={},w=0;for(let m=0;m<c.length;m++){const{name:v,fn:x}=c[m],{x:R,y:h,data:E,reset:P}=await x({x:u,y:d,initialPlacement:n,placement:p,strategy:r,middlewareData:a,rects:l,platform:i,elements:{reference:e,floating:t}});u=R??u,d=h??d,a={...a,[v]:{...a[v],...E}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(l=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):P.rects),{x:u,y:d}=Be(l,p,f)),m=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:a}};async function Te(e,t){var o;t===void 0&&(t={});const{x:n,y:r,platform:s,rects:i,elements:c,strategy:f}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:a=0}=re(t,e),w=Je(a),v=c[p?d==="floating"?"reference":"floating":d],x=ge(await s.getClippingRect({element:(o=await(s.isElement==null?void 0:s.isElement(v)))==null||o?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:l,rootBoundary:u,strategy:f})),R=d==="floating"?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,h=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),E=await(s.isElement==null?void 0:s.isElement(h))?await(s.getScale==null?void 0:s.getScale(h))||{x:1,y:1}:{x:1,y:1},P=ge(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:h,strategy:f}):R);return{top:(x.top-P.top+w.top)/E.y,bottom:(P.bottom-x.bottom+w.bottom)/E.y,left:(x.left-P.left+w.left)/E.x,right:(P.right-x.right+w.right)/E.x}}const Pt=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:n,placement:r,rects:s,platform:i,elements:c,middlewareData:f}=t,{element:l,padding:u=0}=re(e,t)||{};if(l==null)return{};const d=Je(u),p={x:o,y:n},a=De(r),w=Ae(a),m=await i.getDimensions(l),v=a==="y",x=v?"top":"left",R=v?"bottom":"right",h=v?"clientHeight":"clientWidth",E=s.reference[w]+s.reference[a]-p[a]-s.floating[w],P=p[a]-s.reference[a],D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let T=D?D[h]:0;(!T||!await(i.isElement==null?void 0:i.isElement(D)))&&(T=c.floating[h]||s.floating[w]);const L=E/2-P/2,k=T/2-m[w]/2-1,A=te(d[x],k),M=te(d[R],k),_=A,I=T-m[w]-M,y=T/2-m[w]/2+L,O=Pe(_,y,I),S=!f.arrow&&H(r)!=null&&y!==O&&s.reference[w]/2-(y<_?A:M)-m[w]/2<0,b=S?y<_?y-_:y-I:0;return{[a]:p[a]+b,data:{[a]:O,centerOffset:y-O-b,...S&&{alignmentOffset:b}},reset:S}}});function Ct(e,t,o){return(e?[...o.filter(r=>H(r)===e),...o.filter(r=>H(r)!==e)]:o.filter(r=>j(r)===r)).filter(r=>e?H(r)===e||(t?de(r)!==r:!1):!0)}const Ot=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var o,n,r;const{rects:s,middlewareData:i,placement:c,platform:f,elements:l}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:p=Ie,autoAlignment:a=!0,...w}=re(e,t),m=d!==void 0||p===Ie?Ct(d||null,a,p):p,v=await Te(t,w),x=((o=i.autoPlacement)==null?void 0:o.index)||0,R=m[x];if(R==null)return{};const h=Ze(R,s,await(f.isRTL==null?void 0:f.isRTL(l.floating)));if(c!==R)return{reset:{placement:m[0]}};const E=[v[j(R)],v[h[0]],v[h[1]]],P=[...((n=i.autoPlacement)==null?void 0:n.overflows)||[],{placement:R,overflows:E}],D=m[x+1];if(D)return{data:{index:x+1,overflows:P},reset:{placement:D}};const T=P.map(A=>{const M=H(A.placement);return[A.placement,M&&u?A.overflows.slice(0,2).reduce((_,I)=>_+I,0):A.overflows[0],A.overflows]}).sort((A,M)=>A[1]-M[1]),k=((r=T.filter(A=>A[2].slice(0,H(A[0])?2:3).every(M=>M<=0))[0])==null?void 0:r[0])||T[0][0];return k!==c?{data:{index:x+1,overflows:P},reset:{placement:k}}:{}}}},St=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:s,rects:i,initialPlacement:c,platform:f,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:m=!0,...v}=re(e,t);if((o=s.arrow)!=null&&o.alignmentOffset)return{};const x=j(r),R=ne(c),h=j(c)===c,E=await(f.isRTL==null?void 0:f.isRTL(l.floating)),P=p||(h||!m?[me(c)]:vt(c)),D=w!=="none";!p&&D&&P.push(...Rt(c,m,w,E));const T=[c,...P],L=await Te(t,v),k=[];let A=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&k.push(L[x]),d){const y=Ze(r,i,E);k.push(L[y[0]],L[y[1]])}if(A=[...A,{placement:r,overflows:k}],!k.every(y=>y<=0)){var M,_;const y=(((M=s.flip)==null?void 0:M.index)||0)+1,O=T[y];if(O)return{data:{index:y,overflows:A},reset:{placement:O}};let S=(_=A.filter(b=>b.overflows[0]<=0).sort((b,C)=>b.overflows[1]-C.overflows[1])[0])==null?void 0:_.placement;if(!S)switch(a){case"bestFit":{var I;const b=(I=A.filter(C=>{if(D){const F=ne(C.placement);return F===R||F==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(F=>F>0).reduce((F,G)=>F+G,0)]).sort((C,F)=>C[1]-F[1])[0])==null?void 0:I[0];b&&(S=b);break}case"initialPlacement":S=c;break}if(r!==S)return{reset:{placement:S}}}return{}}}};async function At(e,t){const{placement:o,platform:n,elements:r}=e,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),i=j(o),c=H(o),f=ne(o)==="y",l=["left","top"].includes(i)?-1:1,u=s&&f?-1:1,d=re(t,e);let{mainAxis:p,crossAxis:a,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return c&&typeof w=="number"&&(a=c==="end"?w*-1:w),f?{x:a*u,y:p*l}:{x:p*l,y:a*u}}const Dt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:s,placement:i,middlewareData:c}=t,f=await At(t,e);return i===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+f.x,y:s+f.y,data:{...f,placement:i}}}}},Tt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:c={fn:v=>{let{x,y:R}=v;return{x,y:R}}},...f}=re(e,t),l={x:o,y:n},u=await Te(t,f),d=ne(j(r)),p=Qe(d);let a=l[p],w=l[d];if(s){const v=p==="y"?"top":"left",x=p==="y"?"bottom":"right",R=a+u[v],h=a-u[x];a=Pe(R,a,h)}if(i){const v=d==="y"?"top":"left",x=d==="y"?"bottom":"right",R=w+u[v],h=w-u[x];w=Pe(R,w,h)}const m=c.fn({...t,[p]:a,[d]:w});return{...m,data:{x:m.x-o,y:m.y-n}}}}};function et(e){const t=W(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=V(e),s=r?e.offsetWidth:o,i=r?e.offsetHeight:n,c=ue(o)!==s||ue(n)!==i;return c&&(o=s,n=i),{width:o,height:n,$:c}}function Le(e){return $(e)?e:e.contextElement}function ee(e){const t=Le(e);if(!V(t))return U(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:s}=et(t);let i=(s?ue(o.width):o.width)/n,c=(s?ue(o.height):o.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Lt=U(0);function tt(e){const t=B(e);return!Se()||!t.visualViewport?Lt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kt(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==B(e)?!1:t}function Z(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),s=Le(e);let i=U(1);t&&(n?$(n)&&(i=ee(n)):i=ee(e));const c=kt(s,o,n)?tt(s):U(0);let f=(r.left+c.x)/i.x,l=(r.top+c.y)/i.y,u=r.width/i.x,d=r.height/i.y;if(s){const p=B(s),a=n&&$(n)?B(n):n;let w=p,m=w.frameElement;for(;m&&n&&a!==w;){const v=ee(m),x=m.getBoundingClientRect(),R=W(m),h=x.left+(m.clientLeft+parseFloat(R.paddingLeft))*v.x,E=x.top+(m.clientTop+parseFloat(R.paddingTop))*v.y;f*=v.x,l*=v.y,u*=v.x,d*=v.y,f+=h,l+=E,w=B(m),m=w.frameElement}}return ge({width:u,height:d,x:f,y:l})}function Mt(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const s=r==="fixed",i=Y(n),c=t?we(t.floating):!1;if(n===i||c&&s)return o;let f={scrollLeft:0,scrollTop:0},l=U(1);const u=U(0),d=V(n);if((d||!d&&!s)&&((oe(n)!=="body"||le(i))&&(f=xe(n)),V(n))){const p=Z(n);l=ee(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}return{width:o.width*l.x,height:o.height*l.y,x:o.x*l.x-f.scrollLeft*l.x+u.x,y:o.y*l.y-f.scrollTop*l.y+u.y}}function _t(e){return Array.from(e.getClientRects())}function nt(e){return Z(Y(e)).left+xe(e).scrollLeft}function Ft(e){const t=Y(e),o=xe(e),n=e.ownerDocument.body,r=Q(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Q(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+nt(e);const c=-o.scrollTop;return W(n).direction==="rtl"&&(i+=Q(t.clientWidth,n.clientWidth)-r),{width:r,height:s,x:i,y:c}}function $t(e,t){const o=B(e),n=Y(e),r=o.visualViewport;let s=n.clientWidth,i=n.clientHeight,c=0,f=0;if(r){s=r.width,i=r.height;const l=Se();(!l||l&&t==="fixed")&&(c=r.offsetLeft,f=r.offsetTop)}return{width:s,height:i,x:c,y:f}}function It(e,t){const o=Z(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,s=V(e)?ee(e):U(1),i=e.clientWidth*s.x,c=e.clientHeight*s.y,f=r*s.x,l=n*s.y;return{width:i,height:c,x:f,y:l}}function We(e,t,o){let n;if(t==="viewport")n=$t(e,o);else if(t==="document")n=Ft(Y(e));else if($(t))n=It(t,o);else{const r=tt(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return ge(n)}function ot(e,t){const o=K(e);return o===t||!$(o)||q(o)?!1:W(o).position==="fixed"||ot(o,t)}function Bt(e,t){const o=t.get(e);if(o)return o;let n=z(e,[],!1).filter(c=>$(c)&&oe(c)!=="body"),r=null;const s=W(e).position==="fixed";let i=s?K(e):e;for(;$(i)&&!q(i);){const c=W(i),f=Oe(i);!f&&c.position==="fixed"&&(r=null),(s?!f&&!r:!f&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||le(i)&&!f&&ot(e,i))?n=n.filter(u=>u!==i):r=c,i=K(i)}return t.set(e,n),n}function Wt(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const i=[...o==="clippingAncestors"?we(t)?[]:Bt(t,this._c):[].concat(o),n],c=i[0],f=i.reduce((l,u)=>{const d=We(t,u,r);return l.top=Q(d.top,l.top),l.right=te(d.right,l.right),l.bottom=te(d.bottom,l.bottom),l.left=Q(d.left,l.left),l},We(t,c,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Nt(e){const{width:t,height:o}=et(e);return{width:t,height:o}}function Vt(e,t,o){const n=V(t),r=Y(t),s=o==="fixed",i=Z(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const f=U(0);if(n||!n&&!s)if((oe(t)!=="body"||le(r))&&(c=xe(t)),n){const d=Z(t,!0,s,t);f.x=d.x+t.clientLeft,f.y=d.y+t.clientTop}else r&&(f.x=nt(r));const l=i.left+c.scrollLeft-f.x,u=i.top+c.scrollTop-f.y;return{x:l,y:u,width:i.width,height:i.height}}function ye(e){return W(e).position==="static"}function Ne(e,t){return!V(e)||W(e).position==="fixed"?null:t?t(e):e.offsetParent}function rt(e,t){const o=B(e);if(we(e))return o;if(!V(e)){let r=K(e);for(;r&&!q(r);){if($(r)&&!ye(r))return r;r=K(r)}return o}let n=Ne(e,t);for(;n&&dt(n)&&ye(n);)n=Ne(n,t);return n&&q(n)&&ye(n)&&!Oe(n)?o:n||mt(e)||o}const Ht=async function(e){const t=this.getOffsetParent||rt,o=this.getDimensions,n=await o(e.floating);return{reference:Vt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Kt(e){return W(e).direction==="rtl"}const jt={convertOffsetParentRelativeRectToViewportRelativeRect:Mt,getDocumentElement:Y,getClippingRect:Wt,getOffsetParent:rt,getElementRects:Ht,getClientRects:_t,getDimensions:Nt,getScale:ee,isElement:$,isRTL:Kt};function Yt(e,t){let o=null,n;const r=Y(e);function s(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function i(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),s();const{left:l,top:u,width:d,height:p}=e.getBoundingClientRect();if(c||t(),!d||!p)return;const a=fe(u),w=fe(r.clientWidth-(l+d)),m=fe(r.clientHeight-(u+p)),v=fe(l),R={rootMargin:-a+"px "+-w+"px "+-m+"px "+-v+"px",threshold:Q(0,te(1,f))||1};let h=!0;function E(P){const D=P[0].intersectionRatio;if(D!==f){if(!h)return i();D?i(!1,D):n=setTimeout(()=>{i(!1,1e-7)},1e3)}h=!1}try{o=new IntersectionObserver(E,{...R,root:r.ownerDocument})}catch{o=new IntersectionObserver(E,R)}o.observe(e)}return i(!0),s}function hn(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,l=Le(e),u=r||s?[...l?z(l):[],...z(t)]:[];u.forEach(x=>{r&&x.addEventListener("scroll",o,{passive:!0}),s&&x.addEventListener("resize",o)});const d=l&&c?Yt(l,o):null;let p=-1,a=null;i&&(a=new ResizeObserver(x=>{let[R]=x;R&&R.target===l&&a&&(a.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var h;(h=a)==null||h.observe(t)})),o()}),l&&!f&&a.observe(l),a.observe(t));let w,m=f?Z(e):null;f&&v();function v(){const x=Z(e);m&&(x.x!==m.x||x.y!==m.y||x.width!==m.width||x.height!==m.height)&&o(),m=x,w=requestAnimationFrame(v)}return o(),()=>{var x;u.forEach(R=>{r&&R.removeEventListener("scroll",o),s&&R.removeEventListener("resize",o)}),d==null||d(),(x=a)==null||x.disconnect(),a=null,f&&cancelAnimationFrame(w)}}const Xt=Dt,zt=Ot,qt=Tt,Ut=St,Ve=Pt,Gt=(e,t,o)=>{const n=new Map,r={platform:jt,...o},s={...r.platform,_c:n};return Et(e,t,{...r,platform:s})};var ae=typeof document<"u"?g.useLayoutEffect:g.useEffect;function pe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!pe(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;n--!==0;){const s=r[n];if(!(s==="_owner"&&e.$$typeof)&&!pe(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function it(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function He(e,t){const o=it(e);return Math.round(t*o)/o}function Ke(e){const t=g.useRef(e);return ae(()=>{t.current=e}),t}function Qt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:i}={},transform:c=!0,whileElementsMounted:f,open:l}=e,[u,d]=g.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[p,a]=g.useState(n);pe(p,n)||a(n);const[w,m]=g.useState(null),[v,x]=g.useState(null),R=g.useCallback(b=>{b!==D.current&&(D.current=b,m(b))},[]),h=g.useCallback(b=>{b!==T.current&&(T.current=b,x(b))},[]),E=s||w,P=i||v,D=g.useRef(null),T=g.useRef(null),L=g.useRef(u),k=f!=null,A=Ke(f),M=Ke(r),_=g.useCallback(()=>{if(!D.current||!T.current)return;const b={placement:t,strategy:o,middleware:p};M.current&&(b.platform=M.current),Gt(D.current,T.current,b).then(C=>{const F={...C,isPositioned:!0};I.current&&!pe(L.current,F)&&(L.current=F,ut.flushSync(()=>{d(F)}))})},[p,t,o,M]);ae(()=>{l===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,d(b=>({...b,isPositioned:!1})))},[l]);const I=g.useRef(!1);ae(()=>(I.current=!0,()=>{I.current=!1}),[]),ae(()=>{if(E&&(D.current=E),P&&(T.current=P),E&&P){if(A.current)return A.current(E,P,_);_()}},[E,P,_,A,k]);const y=g.useMemo(()=>({reference:D,floating:T,setReference:R,setFloating:h}),[R,h]),O=g.useMemo(()=>({reference:E,floating:P}),[E,P]),S=g.useMemo(()=>{const b={position:o,left:0,top:0};if(!O.floating)return b;const C=He(O.floating,u.x),F=He(O.floating,u.y);return c?{...b,transform:"translate("+C+"px, "+F+"px)",...it(O.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:C,top:F}},[o,c,O.floating,u.x,u.y]);return g.useMemo(()=>({...u,update:_,refs:y,elements:O,floatingStyles:S}),[u,_,y,O,S])}const Zt=e=>{function t(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:n,padding:r}=typeof e=="function"?e(o):e;return n&&t(n)?n.current!=null?Ve({element:n.current,padding:r}).fn(o):{}:n?Ve({element:n,padding:r}).fn(o):{}}}},wn=(e,t)=>({...Xt(e),options:[e,t]}),xn=(e,t)=>({...qt(e),options:[e,t]}),vn=(e,t)=>({...Ut(e),options:[e,t]}),yn=(e,t)=>({...zt(e),options:[e,t]}),Rn=(e,t)=>({...Zt(e),options:[e,t]}),st={...at},Jt=st.useInsertionEffect,en=Jt||(e=>e());function J(e){const t=g.useRef(()=>{});return en(()=>{t.current=e}),g.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}var he=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Ce.apply(this,arguments)}let je=!1,tn=0;const Ye=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tn++;function nn(){const[e,t]=g.useState(()=>je?Ye():void 0);return he(()=>{e==null&&t(Ye())},[]),g.useEffect(()=>{je=!0},[]),e}const on=st.useId,ct=on||nn,bn=g.forwardRef(function(t,o){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s}},width:i=14,height:c=7,tipRadius:f=0,strokeWidth:l=0,staticOffset:u,stroke:d,d:p,style:{transform:a,...w}={},...m}=t,v=ct(),[x,R]=g.useState(!1);if(he(()=>{if(!r)return;W(r).direction==="rtl"&&R(!0)},[r]),!r)return null;const h=l*2,E=h/2,P=i/2*(f/-8+1),D=c/2*f/4,[T,L]=n.split("-"),k=!!p,A=T==="top"||T==="bottom",M=u&&L==="end"?"bottom":"top";let _=u&&L==="end"?"right":"left";u&&x&&(_=L==="end"?"left":"right");const I=(s==null?void 0:s.x)!=null?u||s.x:"",y=(s==null?void 0:s.y)!=null?u||s.y:"",O=p||"M0,0"+(" H"+i)+(" L"+(i-P)+","+(c-D))+(" Q"+i/2+","+c+" "+P+","+(c-D))+" Z",S={top:k?"rotate(180deg)":"",left:k?"rotate(90deg)":"rotate(-90deg)",bottom:k?"":"rotate(180deg)",right:k?"rotate(-90deg)":"rotate(90deg)"}[T];return g.createElement("svg",Ce({},m,{"aria-hidden":!0,ref:o,width:k?i:i+h,height:i,viewBox:"0 0 "+i+" "+(c>i?c:i),style:{position:"absolute",pointerEvents:"none",[_]:I,[M]:y,[T]:A||k?"100%":"calc(100% - "+h/2+"px)",transform:""+S+(a??""),...w}}),h>0&&g.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:d,strokeWidth:h+(p?0:1),d:O}),g.createElement("path",{stroke:h&&!p?m.fill:"none",d:O}),g.createElement("clipPath",{id:v},g.createElement("rect",{x:-E,y:E*(k?-1:1),width:i+h,height:i})))});function rn(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(r=>r(o))},on(t,o){e.set(t,[...e.get(t)||[],o])},off(t,o){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(r=>r!==o))||[])}}}const sn=g.createContext(null),cn=g.createContext(null),ln=()=>{var e;return((e=g.useContext(sn))==null?void 0:e.id)||null},lt=()=>g.useContext(cn);function fn(e){return"data-floating-ui-"+e}function Re(e,t){let o=e.filter(r=>{var s;return r.parentId===t&&((s=r.context)==null?void 0:s.open)}),n=o;for(;n.length;)n=e.filter(r=>{var s;return(s=n)==null?void 0:s.some(i=>{var c;return r.parentId===i.id&&((c=r.context)==null?void 0:c.open)})}),o=o.concat(n);return o}const an={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},un={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Xe=e=>{var t,o;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(o=e==null?void 0:e.outsidePress)!=null?o:!0}};function En(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,elements:r,dataRef:s}=e,{enabled:i=!0,escapeKey:c=!0,outsidePress:f=!0,outsidePressEvent:l="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:p=!1,bubbles:a,capture:w}=t,m=lt(),v=J(typeof f=="function"?f:()=>!1),x=typeof f=="function"?v:f,R=g.useRef(!1),h=g.useRef(!1),{escapeKey:E,outsidePress:P}=Xe(a),{escapeKey:D,outsidePress:T}=Xe(w),L=J(y=>{var O;if(!o||!i||!c||y.key!=="Escape")return;const S=(O=s.current.floatingContext)==null?void 0:O.nodeId,b=m?Re(m.nodesRef.current,S):[];if(!E&&(y.stopPropagation(),b.length>0)){let C=!0;if(b.forEach(F=>{var G;if((G=F.context)!=null&&G.open&&!F.context.dataRef.current.__escapeKeyBubbles){C=!1;return}}),!C)return}n(!1,gt(y)?y.nativeEvent:y,"escape-key")}),k=J(y=>{var O;const S=()=>{var b;L(y),(b=ce(y))==null||b.removeEventListener("keydown",S)};(O=ce(y))==null||O.addEventListener("keydown",S)}),A=J(y=>{var O;const S=R.current;R.current=!1;const b=h.current;if(h.current=!1,l==="click"&&b||S||typeof x=="function"&&!x(y))return;const C=ce(y),F="["+fn("inert")+"]",G=Fe(r.floating).querySelectorAll(F);let ie=$(C)?C:null;for(;ie&&!q(ie);){const N=K(ie);if(q(N)||!$(N))break;ie=N}if(G.length&&$(C)&&!pt(C)&&!_e(C,r.floating)&&Array.from(G).every(N=>!_e(ie,N)))return;if(V(C)&&I){const N=C.clientWidth>0&&C.scrollWidth>C.clientWidth,X=C.clientHeight>0&&C.scrollHeight>C.clientHeight;let se=X&&y.offsetX>C.clientWidth;if(X&&W(C).direction==="rtl"&&(se=y.offsetX<=C.offsetWidth-C.clientWidth),se||N&&y.offsetY>C.clientHeight)return}const ke=(O=s.current.floatingContext)==null?void 0:O.nodeId,ft=m&&Re(m.nodesRef.current,ke).some(N=>{var X;return ve(y,(X=N.context)==null?void 0:X.elements.floating)});if(ve(y,r.floating)||ve(y,r.domReference)||ft)return;const Me=m?Re(m.nodesRef.current,ke):[];if(Me.length>0){let N=!0;if(Me.forEach(X=>{var se;if((se=X.context)!=null&&se.open&&!X.context.dataRef.current.__outsidePressBubbles){N=!1;return}}),!N)return}n(!1,y,"outside-press")}),M=J(y=>{var O;const S=()=>{var b;A(y),(b=ce(y))==null||b.removeEventListener(l,S)};(O=ce(y))==null||O.addEventListener(l,S)});g.useEffect(()=>{if(!o||!i)return;s.current.__escapeKeyBubbles=E,s.current.__outsidePressBubbles=P;function y(b){n(!1,b,"ancestor-scroll")}const O=Fe(r.floating);c&&O.addEventListener("keydown",D?k:L,D),x&&O.addEventListener(l,T?M:A,T);let S=[];return p&&($(r.domReference)&&(S=z(r.domReference)),$(r.floating)&&(S=S.concat(z(r.floating))),!$(r.reference)&&r.reference&&r.reference.contextElement&&(S=S.concat(z(r.reference.contextElement)))),S=S.filter(b=>{var C;return b!==((C=O.defaultView)==null?void 0:C.visualViewport)}),S.forEach(b=>{b.addEventListener("scroll",y,{passive:!0})}),()=>{c&&O.removeEventListener("keydown",D?k:L,D),x&&O.removeEventListener(l,T?M:A,T),S.forEach(b=>{b.removeEventListener("scroll",y)})}},[s,r,c,x,l,o,n,p,i,E,P,L,D,k,A,T,M]),g.useEffect(()=>{R.current=!1},[x,l]);const _=g.useMemo(()=>({onKeyDown:L,[an[d]]:y=>{u&&n(!1,y.nativeEvent,"reference-press")}}),[L,n,u,d]),I=g.useMemo(()=>({onKeyDown:L,onMouseDown(){h.current=!0},onMouseUp(){h.current=!0},[un[l]]:()=>{R.current=!0}}),[L,l]);return g.useMemo(()=>i?{reference:_,floating:I}:{},[i,_,I])}function dn(e){const{open:t=!1,onOpenChange:o,elements:n}=e,r=ct(),s=g.useRef({}),[i]=g.useState(()=>rn()),c=ln()!=null,[f,l]=g.useState(n.reference),u=J((a,w,m)=>{s.current.openEvent=a?w:void 0,i.emit("openchange",{open:a,event:w,reason:m,nested:c}),o==null||o(a,w,m)}),d=g.useMemo(()=>({setPositionReference:l}),[]),p=g.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return g.useMemo(()=>({dataRef:s,open:t,onOpenChange:u,elements:p,events:i,floatingId:r,refs:d}),[t,u,p,i,r,d])}function Pn(e){e===void 0&&(e={});const{nodeId:t}=e,o=dn({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,r=n.elements,[s,i]=g.useState(null),[c,f]=g.useState(null),u=(r==null?void 0:r.reference)||s,d=g.useRef(null),p=lt();he(()=>{u&&(d.current=u)},[u]);const a=Qt({...e,elements:{...r,...c&&{reference:c}}}),w=g.useCallback(h=>{const E=$(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;f(E),a.refs.setReference(E)},[a.refs]),m=g.useCallback(h=>{($(h)||h===null)&&(d.current=h,i(h)),($(a.refs.reference.current)||a.refs.reference.current===null||h!==null&&!$(h))&&a.refs.setReference(h)},[a.refs]),v=g.useMemo(()=>({...a.refs,setReference:m,setPositionReference:w,domReference:d}),[a.refs,m,w]),x=g.useMemo(()=>({...a.elements,domReference:u}),[a.elements,u]),R=g.useMemo(()=>({...a,...n,refs:v,elements:x,nodeId:t}),[a,v,x,t,n]);return he(()=>{n.dataRef.current.floatingContext=R;const h=p==null?void 0:p.nodesRef.current.find(E=>E.id===t);h&&(h.context=R)}),g.useMemo(()=>({...a,context:R,refs:v,elements:x}),[a,v,x,R])}const ze="active",qe="selected";function be(e,t,o){const n=new Map,r=o==="item";let s=e;if(r&&e){const{[ze]:i,[qe]:c,...f}=e;s=f}return{...o==="floating"&&{tabIndex:-1},...s,...t.map(i=>{const c=i?i[o]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((i,c)=>(c&&Object.entries(c).forEach(f=>{let[l,u]=f;if(!(r&&[ze,qe].includes(l)))if(l.indexOf("on")===0){if(n.has(l)||n.set(l,[]),typeof u=="function"){var d;(d=n.get(l))==null||d.push(u),i[l]=function(){for(var p,a=arguments.length,w=new Array(a),m=0;m<a;m++)w[m]=arguments[m];return(p=n.get(l))==null?void 0:p.map(v=>v(...w)).find(v=>v!==void 0)}}}else i[l]=u}),i),{})}}function Cn(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),o=e.map(c=>c==null?void 0:c.floating),n=e.map(c=>c==null?void 0:c.item),r=g.useCallback(c=>be(c,e,"reference"),t),s=g.useCallback(c=>be(c,e,"floating"),o),i=g.useCallback(c=>be(c,e,"item"),n);return g.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:i}),[r,s,i])}export{bn as F,En as a,Cn as b,yn as c,Rn as d,hn as e,vn as f,wn as o,xn as s,Pn as u};
