name: Storybook build and deploy to Github pages
on:
  push:
    branches:
      - develop
    # paths: ['stories/**', 'src/components/**'] # Trigger the action only when files change in the folders defined here
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    permissions:
      pages: write
      id-token: write
    steps:
      - name: Checkout â¤µï¸
        uses: actions/checkout@v4
        with:
          ref: develop
      - name: Install ğŸ§°
        run: |
          npm ci
          npm i @rollup/rollup-linux-x64-gnu
      - name: Build ğŸ”§
        run: |
          npm run sb:build
          ls -l storybook-static
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3.0.1
        with:
          name: 'github-pages'
          path: 'storybook-static'
      # - name: Deploy ğŸš€
      #   uses: actions/deploy-pages@v4
      #   with:
      #     folder: storybook-static
